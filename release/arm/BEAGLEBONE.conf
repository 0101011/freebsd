#!/bin/sh
#
# $FreeBSD$
#

# Build chroot configuration
load_chroot_env() {
	unset XDEV XDEV_ARCH KERNEL
	TARGET="amd64"
	TARGET_ARCH="amd64"
	SVNROOT="svn://svn.FreeBSD.org/"
	SRCBRANCH="base/head@rHEAD"
	DOCBRANCH="doc/head@rHEAD"
	PORTBRANCH="ports/head@rHEAD"
	NODOC=yes
}

# Build target configuration
load_target_env() {
	# Since this file is sourced by a script that runs another
	# script, these must be exported.
	set -a
	unset TARGET TARGET_ARCH
	WORLD_FLAGS="-j $(sysctl -n hw.ncpu)"
	KERNEL_FLAGS="-j $(( $(( $(sysctl -n hw.ncpu) + 1 )) / 2 ))"
	CHROOTDIR="/scratch"
	EMBEDDEDBUILD=1
	EMBEDDEDPORTS="lang/python textproc/gsed"
	XDEV="arm"
	XDEV_ARCH="armv6"
	XDEV_FLAGS="WITH_GCC=1 WITH_GCC_BOOTSTRAP=1 WITHOUT_CLANG_IS_CC=1"
	KERNEL="BEAGLEBONE"
	CROCHETSRC="https://github.com/kientzle/crochet-freebsd"
	CROCHETBRANCH="trunk"
	set +a
}
